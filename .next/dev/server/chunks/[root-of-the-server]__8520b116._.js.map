{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Nikhil/Downloads/healthcare-translation-app%20%281%29/app/api/translate/route.ts"],"sourcesContent":["import { generateText } from \"ai\"\nimport { type NextRequest, NextResponse } from \"next/server\"\nimport { createAzure } from \"@ai-sdk/azure\"\nimport dotenv from \"dotenv\"\ndotenv.config()\nconst azure = createAzure({\n  resourceName: process.env.AZURE_OPENAI_API_INSTANCE_NAME as string,\n  apiKey: process.env.AZURE_OPENAI_API_KEY as string,\n    useDeploymentBasedUrls: true,\n  apiVersion: '2025-04-01-preview',\n});\nconst aiModel = azure(process.env.AZURE_OPENAI_API_DEPLOYMENT_NAME as string)\nconst medicalTermsCache: Record<string, string> = {\n  \"how are you feeling\": \"Feeling well or in pain\",\n  \"where does it hurt\": \"Pain location\",\n  \"take this medication\": \"Medication instruction\",\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { text, sourceLanguage, targetLanguage } = await request.json()\n\n    if (!text || !sourceLanguage || !targetLanguage) {\n      return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 })\n    }\n\n    const languageMap: Record<string, string> = {\n      \"en-US\": \"English\",\n      \"es-ES\": \"Spanish\",\n      \"fr-FR\": \"French\",\n      \"de-DE\": \"German\",\n      \"it-IT\": \"Italian\",\n      \"pt-BR\": \"Portuguese\",\n      \"ja-JP\": \"Japanese\",\n      \"zh-CN\": \"Chinese\",\n      \"ko-KR\": \"Korean\",\n      \"ru-RU\": \"Russian\",\n      \"ar-SA\": \"Arabic\",\n      \"vi-VN\": \"Vietnamese\",\n      \"hi-IN\": \"Hindi\",\n    }\n\n    const sourceLangName = languageMap[sourceLanguage] || sourceLanguage\n    const targetLangName = languageMap[targetLanguage] || targetLanguage\n\n    const { text: translatedText } = await generateText({\n      model: aiModel,\n      system: `You are an expert medical translator specializing in healthcare communication between patients and providers.\n      \nCRITICAL REQUIREMENTS:\n1. MEDICAL ACCURACY: Use only standard medical terminology approved in both source and target languages\n2. CLARITY: Translate for clarity and understanding in healthcare context\n3. SENSITIVITY: Maintain professional tone appropriate for healthcare settings\n4. PRECISION: Never sacrifice accuracy for brevity\n5. MEDICAL CONTEXT: If it's a symptom or diagnosis, ensure proper medical terminology\n\nTranslate from ${sourceLangName} to ${targetLangName}.\n\nRESPOND ONLY WITH THE TRANSLATED TEXT. NO EXPLANATIONS, NO ADDITIONAL TEXT.`,\n      prompt: text,\n      temperature: 0.3, // Lower temperature for more accurate medical translations\n    })\n   console.log(\"Translation result:\", translatedText)\n    return NextResponse.json({ translatedText: translatedText.trim() })\n  } catch (error) {\n    console.error(\"Translation API error:\", error)\n    return NextResponse.json({ error: \"Translation service error\" }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AACA,kJAAM,CAAC,MAAM;AACb,MAAM,QAAQ,IAAA,8PAAW,EAAC;IACxB,cAAc,QAAQ,GAAG,CAAC,8BAA8B;IACxD,QAAQ,QAAQ,GAAG,CAAC,oBAAoB;IACtC,wBAAwB;IAC1B,YAAY;AACd;AACA,MAAM,UAAU,MAAM,QAAQ,GAAG,CAAC,gCAAgC;AAClE,MAAM,oBAA4C;IAChD,uBAAuB;IACvB,sBAAsB;IACtB,wBAAwB;AAC1B;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,cAAc,EAAE,cAAc,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEnE,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,gBAAgB;YAC/C,OAAO,yPAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA0B,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QAEA,MAAM,cAAsC;YAC1C,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;YACT,SAAS;QACX;QAEA,MAAM,iBAAiB,WAAW,CAAC,eAAe,IAAI;QACtD,MAAM,iBAAiB,WAAW,CAAC,eAAe,IAAI;QAEtD,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,MAAM,IAAA,4OAAY,EAAC;YAClD,OAAO;YACP,QAAQ,CAAC;;;;;;;;;eASA,EAAE,eAAe,IAAI,EAAE,eAAe;;2EAEsB,CAAC;YACtE,QAAQ;YACR,aAAa;QACf;QACD,QAAQ,GAAG,CAAC,uBAAuB;QAClC,OAAO,yPAAY,CAAC,IAAI,CAAC;YAAE,gBAAgB,eAAe,IAAI;QAAG;IACnE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,yPAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4B,GAAG;YAAE,QAAQ;QAAI;IACjF;AACF"}}]
}